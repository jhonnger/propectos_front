<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <div class="logo-icon-wrapper">
        <mat-icon class="logo-icon">assignment</mat-icon>
      </div>
      <h1 class="app-title">Prospectos</h1>
      <p class="subtitle">Gestiona tus leads de manera eficiente</p>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <mat-form-field appearance="outline" class="input-field">
        <mat-label>Usuario</mat-label>
        <mat-icon matPrefix class="field-icon">person</mat-icon>
        <input matInput type="text" formControlName="email" autocomplete="username" />
        <mat-error *ngIf="loginForm.get('email')?.hasError('required')">
          El usuario es obligatorio
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-field">
        <mat-label>Contrasena</mat-label>
        <mat-icon matPrefix class="field-icon">lock</mat-icon>
        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" autocomplete="current-password" />
        <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword" class="toggle-password">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
          La contrasena es obligatoria
        </mat-error>
      </mat-form-field>

      <div class="error-message" *ngIf="errorMessage">
        <mat-icon class="error-icon">error_outline</mat-icon>
        <span>{{ errorMessage }}</span>
      </div>

      <button
        mat-flat-button
        type="submit"
        class="login-button"
        [disabled]="loginForm.invalid || isLoading">
        <mat-spinner *ngIf="isLoading" diameter="20" class="button-spinner"></mat-spinner>
        <mat-icon *ngIf="!isLoading">login</mat-icon>
        <span>{{ isLoading ? 'Iniciando...' : 'Iniciar Sesion' }}</span>
      </button>
    </form>

    <div class="help-section">
      <div class="divider">
        <span class="divider-line"></span>
        <span class="divider-text">Ayuda</span>
        <span class="divider-line"></span>
      </div>
      <div class="help-content">
        <mat-icon class="help-icon">support_agent</mat-icon>
        <span>Contacta al administrador del sistema</span>
      </div>
    </div>
  </div>

  <p class="footer-text">Prospectos &copy; 2026</p>
</div>
